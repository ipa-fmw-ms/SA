%###########################################################################
%
%   Kapitel X
%
%###########################################################################
\chapter{Anforderungsdefinition} \label{Kap:3}


%###########################################################################
%   Kapitel 2.1
%###########################################################################


\section{User-Story}

\begin{table}[!ht]%annoying floats
\begin{tabular}{p{40mm}|p{45mm}|p{55mm}} 
 User & Roboter & Server \\
\hline \hline
Ruft Webseite auf & & Übermittelt Inhalt\\
\hline
Meldet Sich an & & Karte und Konto werden übertragen\\
\hline
Wählt Produkt aus & &\\
\hline
Wählt Zielort aus & & \\
\hline
Gibt Bestellung auf & & Nimmt Bestellung an\\
\hline
Wartet auf Gut & & erstellt Auftrag in Warteschlange\\
\hline
& Beendet letzten Auftrag & Übermittelt nächsten Auftrag von der Warteschalange\\
\hline
& Fährt Aufnahmeposition an &\\
\hline
& Nimmt Gut auf &\\
\hline
& Navigiert zum Ziel &\\
\hline
& Navigiert eventuell zum alternativem Ziel &\\
\hline
Nimmt Gut entgegen & Übergibt Gut & \\
\hline
Bestätigt Erhalt & Übermittelt Auftragsergebnis & Vergibt neuen Auftrag\\
\end{tabular}
\caption{User-Story für den Bestellvorgang}
\label{fig:user-story}
\end{table}

\section{Use-Case}
\begin{figure}[!ht]
\begin{tikzpicture}
\begin{umlsystem}{Server}
\umlusecase[x=-3]{Bestellung aufgeben}
\umlusecase[x=3]{Auftrag senden}
\end{umlsystem}

\umlactor[x=-8]{User}
\umlactor[x=8]{Roboter}

\umlassoc{User}{usecase-1}
\umlassoc{Roboter}{usecase-2}

\end{tikzpicture}
\caption{Use-Case Diagramm für den Bestellvorgang}
\label{fig:use-case}
\end{figure}

\section{Anforderungsdefinition}
Aus dem Anwendungsfalldiagram und der Ablaufliste, werden für jede einzelne Komponente Die funktionalen (LFA) und nichtfunktionalen Anforderungen (NFA) definiert.
Des weiteren werden Wunschanforderungen (WFA) definiert, welche nicht zur Erfüllung der wesentlichen Aufgabe benötigt werden, jedoch den grad der Automatsierung erhöhen.% könnten.

\subsection{Anforderungen an das User Managment}
\begin{enumerate}[nosep,style=sameline]
\renewcommand{\labelenumi}{ULFA \textbf{\theenumi.}}
\item Ein neuer User Soll sich registrieren und löschen können.
\item Ein Administrator soll die Prioritäten der User verändern können.
%\item Die Priorität der User beeinflusst die Abarbeitung der Warteschlange. (noch festzulegen)
\item[WFA \textbf{\theenumi.}] Der User kann eine default Lieferposition mit Alternativpositionfestlegen.
\end{enumerate}

\subsection{Anforderungen an das Auftragsmanagement}
\begin{enumerate}[nosep,style=sameline]
\renewcommand{\labelenumi}{ALFA \textbf{\theenumi.}}
\item Ein User kann ein gut an eine Position bestellen.
\item Ein Auftrag kann die Zustände Wartend Ausführend oder Abgebrochen haben.
\item Die Priorität der User beeinflusst die Abarbeitung der Warteschlange. (noch festzulegen)
\item Wird die Lieferposition nicht erreicht, kann es eine alternative zu ihr geben.
\item Wird keine Lieferposition erreicht, wird der Auftrag abgebrochen.
\item Ist ein Auftrag abgebrochen wird mit dem Nächsten fortgefahren.
\item[WAFA \textbf{\theenumi.}]Kann das Gut nicht ausgeliefert werden, erhält der nächste Besteller dieses.
\item Wird das Gut nicht benötigt, wird es zurück gebracht.
\item Gibt es keine Aufträge mehr soll der Roboter zu einer Home-Position fahren.
\end{enumerate}

\subsection{Anforderungen an das Webinterface}
\begin{enumerate}[nosep,style=sameline]
\renewcommand{\labelenumi}{WLFA \textbf{\theenumi.}}
\item Das Webinterface soll die Möglichkeit zur Registrierung, Anmeldung und Passwortwiederherstellung bereitstellen.
\item Die Karte mit den aktuellen Positionen der Roboter soll angezeigt werden.
\item Die Ziele sind mit der Maus auf der Karte auszuwählen.
\item Die Produkte sind in einem Drop-Down Menu auswählbar.
\item Sind keine Roboter ordnungsgemäß(Not-Aus betätigt, Komponenten fehlen)  verfügbar, soll eine Fehlermeldung angezeigt werden.
\item Es soll eine reduzierte Version der Warteschlange angezeigt werden.(Ohne Ziele und Güter)
\item Wird der Auftrag ausgeführt Abgebrochen oder Pausiert, soll eine Visuelle oder Akustische Benachrichtigung erfolgen.
\item[WFA \textbf{\theenumi.}] Die Zeitprognose für die Lieferung soll angezeigt werden.
\end{enumerate}

\subsection{Anforderungen an den Roboter}
\begin{enumerate}[nosep,style=sameline]
\renewcommand{\labelenumi}{RNFA \textbf{\theenumi.}}
\item Der Roboter muss an alle Vorgegebenen Positionen autonom navigieren können.
\item Der Roboter muss eine Vorrichtung zur Aufnahme des Gutes haben.
\item Der Roboter muss einen Schalter zur bestätigung der Gutaufnahme und Gutetnahme haben.
\item[RWNFA \textbf{\theenumi.}] Der Roboter muss selbstständig ein Gut aufnehmen und plazieren können.
\end{enumerate}

\subsection{Funktionale Anforderungen}
\begin{enumerate}[nosep,style=sameline]
\renewcommand{\labelenumi}{LFA \textbf{\theenumi.}}
%\begin{compactenum}
\item Ein neuer Benutzer soll sich registrieren können.
\item Ein Benutzer kann ein Gut an eine Position bestellen.
\item Die Karte Zeigt die aktuelle Position der Roboter an.
\item Der Status der Roboter wird angezeigt.
\item Die Zielräume sind auf der Karte per Maus auswählbar.
\item Die Güter sind via Drop-Down Menü oder  Katalog auswählbar.
\item Das Auftragsmanagement enthält eine Vorrangwarteschlange. 
\item Es wird eine reduzierte Warteschlange der Aufträge angezeigt.
\item Es soll verschiedene Prioritäten für Benutzer geben.
\item Ein Administrator kann die Priorität der Benutzer ändern.
\item Wird das Gut ausgeliefert oder es tritt ein Fehler auf erscheint ein Feedback.
\item Wird die Lieferposition nicht erreicht, kann es eine alternative zu ihr geben.
\item Kann das Gut nicht ausgeliefert werden, erhält der nächste Besteller dieses.
\item Wird das Gut nicht benötigt, wird es zurück gebracht.
\item Ist ein Auftrag abgebrochen wird mit dem Nächsten fortgefahren.
\item Gibt es keine Aufträge mehr soll der Roboter zu einer Home-Position fahren.
\end{enumerate}
%\end{compactenum}
\subsection{Nichtfunktionale Anforderungen}
\begin{enumerate}[nosep,style=sameline]
\renewcommand{\labelenumi}{NFA \textbf{\theenumi.}}
\item Das System wird für ROS (Robot Operating System) Implementiert.
\item Ein Auftrag kann die Zustände Wartend, Ausführend oder Abgebrochen haben.
\item Die Umgebung und die Karte dürfen nur einstöckig sein.
\item Die Webseite muss auf modernen Smartphones und PCs funktionieren.
\item Auf die Verfügbarkeit der Produkte muss nicht geachtet werden.
\item Die Koordinaten der Räume und Aufnahmepositionen werden manuell definiert.
\item Der Roboter muss die Produkte aufnehmen können (automatisch oder manuell)
\item Der Roboter muss eine erfolgreiche Auslieferung erkennen können. (manuell)
\end{enumerate}



